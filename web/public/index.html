<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>VicFlora Offline Keys</title>
    <link rel="icon" href="./favicon.svg" type="image/svg+xml" />
    <link rel="manifest" href="./manifest.json" />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header>
      <h1>VicFlora Offline Keys</h1>
      <p>Multi-access and dichotomous keys from <a target="_blank" href="https://vicflora.rbg.vic.gov.au/">VicFlora</a>, packaged for offline browsing.</p>
      <nav class="tabs" role="tablist">
        <button data-view="dichotomous" class="tab active" role="tab" aria-selected="true">Dichotomous Keys</button>
        <button data-view="multi" class="tab" role="tab" aria-selected="false">Multi-Access Keys</button>
        <button data-view="about" class="tab" role="tab" aria-selected="false">About</button>
      </nav>
    </header>

    <main>
      <section id="status" aria-live="polite"></section>

      <section id="view-dichotomous" class="view visible">
        <div class="panel">
          <h2>Dichotomous Keys</h2>
          <div class="controls">
            <label for="dichotomous-key-search">Search key:</label>
            <input id="dichotomous-key-search" list="dichotomous-key-list" placeholder="Start typing a key…" />
            <datalist id="dichotomous-key-list"></datalist>
            <button id="dichotomous-restart" class="secondary">Restart</button>
            <button id="dichotomous-back" class="secondary">Back</button>
          </div>
          <div id="dichotomous-header" class="panel-info"></div>
          <div id="dichotomous-options" class="card-list"></div>
          <div id="dichotomous-result" class="result"></div>
        </div>
      </section>

      <section id="view-multi" class="view">
        <div class="panel">
          <h2>Multi-Access Keys</h2>
          <div class="controls">
            <label>
              Select key:
              <select id="multi-key-select"></select>
            </label>
            <button id="multi-undo" class="secondary">Undo last</button>
            <button id="multi-reset" class="secondary">Reset selections</button>
          </div>
          <div id="multi-summary" class="panel-info"></div>
          <div class="split">
            <div class="card">
              <h3>Characters</h3>
              <div id="multi-characters" class="card-list"></div>
            </div>
            <div class="card">
              <h3>States</h3>
              <div id="multi-states" class="card-list"></div>
            </div>
          </div>
          <div class="card">
            <h3>Selections</h3>
            <ul id="multi-selections"></ul>
          </div>
          <div class="card">
            <h3>Remaining Taxa</h3>
            <div id="multi-remaining"></div>
          </div>
        </div>
      </section>

      <section id="view-about" class="view">
        <div class="panel">
          <h2>About</h2>
          <p>
            This static web app bundles selected VicFlora dichotomous and multi-access keys.
          </p>
          <p>
            On iOS, open this page in Safari, tap the share button, and choose “Add to Home Screen” to keep
            it available offline.
          </p>
          <p>
            Visit <a href="https://seangoedecke.com" target="_blank" rel="noopener">seangoedecke.com</a>
            for more about me specifically, or view the source on
            <a href="https://github.com/sgoedecke/vicflora-offline" target="_blank" rel="noopener">GitHub</a>.
          </p>
        </div>
      </section>
    </main>

    <script type="module" src="./app.js"></script>
  </body>
</html>
